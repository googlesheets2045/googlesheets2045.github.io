<!DOCTYPE html>
<html lang="id">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">Â 
Â  Â  <title>Science Master - Game Edukasi SMP</title>
Â  Â  <style>
Â  Â  Â  Â  * {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  max-width: 1200px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 255, 0.95);
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  header {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, #3498db, #2ecc71);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  font-size: 2.5rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .subtitle {
Â  Â  Â  Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  Â  Â  Â  opacity: 0.9;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .game-area {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* PLAYER INFO - Dioptimalkan untuk 3 item */
Â  Â  Â  Â  .player-info {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap; /* Memastikan responsif di layar kecil */
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  background-color: #f8f9fa;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-count, .score, .category-info {
Â  Â  Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  flex: 1 1 30%; /* Pembagian lebar yang merata */
Â  Â  Â  Â  Â  Â  min-width: 150px;
Â  Â  Â  Â  }

Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  Â .player-info {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  Â  Â  align-items: flex-start;
Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  Â  Â  Â .level-count, .score, .category-info {
Â  Â  Â  Â  Â  Â  Â  Â  Â min-width: 100%;
Â  Â  Â  Â  Â  Â  Â }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-count span, .score span, .category-info span {
Â  Â  Â  Â  Â  Â  color: #e74c3c;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .progress-container {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  background-color: #e0e0e0;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .progress-bar {
Â  Â  Â  Â  Â  Â  height: 20px;
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, #3498db, #2ecc71);
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  width: 0%;
Â  Â  Â  Â  Â  Â  transition: width 0.5s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .menu {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .menu-item {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to bottom right, #3498db, #2ecc71);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 25px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .menu-item:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-5px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .menu-item i {
Â  Â  Â  Â  Â  Â  font-size: 2.5rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  /* PERBAIKAN: Menjaga aspek rasio ikon tetap bulat */
Â  Â  Â  Â  Â  Â  line-height: 1;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .menu-item h3 {
Â  Â  Â  Â  Â  Â  font-size: 1.3rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .menu-item p {
Â  Â  Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  Â  Â  Â  opacity: 0.9;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-selection {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  max-height: 400px;
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-btn {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to bottom, #3498db, #2980b9);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  padding: 15px 5px;
Â  Â  Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease;
Â  Â  Â  Â  Â  Â  box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-btn:hover:not(.locked) {
Â  Â  Â  Â  Â  Â  transform: translateY(-3px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 8px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-btn.completed {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to bottom, #2ecc71, #27ae60);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-btn.current {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to bottom, #f39c12, #e67e22);
Â  Â  Â  Â  Â  Â  animation: pulse 2s infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-btn.locked {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to bottom, #95a5a6, #7f8c8d);
Â  Â  Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  @keyframes pulse {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.05); }
Â  Â  Â  Â  Â  Â  100% { transform: scale(1); }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .quiz-container, .level-container {
Â  Â  Â  Â  Â  Â  background-color: #f8f9fa;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .quiz-header {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .question-counter {
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #3498db;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .question {
Â  Â  Â  Â  Â  Â  font-size: 1.3rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  line-height: 1.5;
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .options {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .option {
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;
Â  Â  Â  Â  Â  Â  border: 2px solid transparent;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .option:hover {
Â  Â  Â  Â  Â  Â  background-color: #e8f4fc;
Â  Â  Â  Â  Â  Â  border-color: #3498db;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .option.correct {
Â  Â  Â  Â  Â  Â  background-color: #d4edda;
Â  Â  Â  Â  Â  Â  border-color: #28a745;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .option.incorrect {
Â  Â  Â  Â  Â  Â  background-color: #f8d7da;
Â  Â  Â  Â  Â  Â  border-color: #dc3545;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Gaya Penjelasan AI */
Â  Â  Â  Â  #explanation-box {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  background-color: #fff8e6; /* Kuning muda */
Â  Â  Â  Â  Â  Â  border: 1px solid #fdbb2d;
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
Â  Â  Â  Â  }
Â  Â  Â  Â  #explanation-box h4 {
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #e67e22; /* Oranye gelap */
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #explanation-loading {
Â  Â  Â  Â  Â  Â  color: #3498db;
Â  Â  Â  Â  Â  Â  font-style: italic;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .navigation-center {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  button {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, #3498db, #2ecc71);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  padding: 12px 25px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  button:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  button:disabled {
Â  Â  Â  Â  Â  Â  background: #bdc3c7;
Â  Â  Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  Â  Â  transform: none;
Â  Â  Â  Â  Â  Â  box-shadow: none;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .home-btn {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, #e74c3c, #f39c12);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .next-level-btn {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, #9b59b6, #8e44ad);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .retry-btn {
Â  Â  Â  Â  Â  Â  background: linear-gradient(to right, #e67e22, #d35400);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .result {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .result h2 {
Â  Â  Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  color: #2ecc71;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .result-score {
Â  Â  Â  Â  Â  Â  font-size: 3rem;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #e74c3c;
Â  Â  Â  Â  Â  Â  margin: 20px 0;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .level-up {
Â  Â  Â  Â  Â  Â  animation: levelUp 1s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  @keyframes levelUp {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.2); }
Â  Â  Â  Â  Â  Â  100% { transform: scale(1); }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .congratulations {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, #ff9a9e, #fad0c4);
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  margin: 20px 0;
Â  Â  Â  Â  Â  Â  animation: celebrate 2s infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  @keyframes celebrate {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.05); }
Â  Â  Â  Â  Â  Â  100% { transform: scale(1); }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  footer {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  background-color: #34495e;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 0 0 15px 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .menu {
Â  Â  Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  .level-selection {
Â  Â  Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  .navigation-center {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  .navigation-center button {
Â  Â  Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  Â  Â  max-width: 250px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="container">
Â  Â  Â  Â  <header>
Â  Â  Â  Â  Â  Â  <h1>Science Master</h1>
Â  Â  Â  Â  Â  Â  <p class="subtitle">Game Edukasi Science SMP dengan Total 4000 Soal</p>
Â  Â  Â  Â  </header>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="game-area">
Â  Â  Â  Â  Â  Â  <div class="player-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="level-count">Progress Selesai: <span id="total-completed-count">0 / 100</span></div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="score">Skor Total: <span id="current-score">0</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="category-info">Progres Kategori: <span id="current-category">-</span></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="progress-container" title="Progress Total (0/400 Level)">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar" id="progress-bar"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="main-menu">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" id="physics-btn">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i>âš›ï¸</i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Fisika</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>100 Level (1000 Soal)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" id="chemistry-btn">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i>ğŸ§ª</i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Kimia</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>100 Level (1000 Soal)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" id="biology-btn">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i>ğŸ”¬</i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Biologi</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>100 Level (1000 Soal)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" id="earth-btn">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i>ğŸŒ</i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Ilmu Bumi</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>100 Level (1000 Soal)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="level-selection-container" class="level-container" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 id="level-selection-title">Pilih Level</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="level-selection" id="level-selection">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="navigation-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="home-btn" id="level-selection-home">Kembali ke Menu Utama</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="quiz-container" class="quiz-container">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="quiz-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="category" id="quiz-category" style="font-weight: bold;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="question-counter">Level: <span id="quiz-level">1</span> | Soal: <span id="current-question">1</span>/<span id="total-questions">10</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="question" id="question-text">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Memuat pertanyaan...
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="options" id="options-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="explanation-box" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>ğŸ§  Penjelasan Jawaban</h4> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="explanation-loading">Sedang memuat penjelasan...</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="explanation-text"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="navigation-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="prev-btn" disabled>â¬…ï¸ Sebelumnya</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="next-btn">Selanjutnya â¡ï¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="result-container" class="quiz-container result" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 id="result-title">Selamat!</h2>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="result-subtitle">Kamu telah menyelesaikan level</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="result-score" id="final-score">85%</div>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="result-message">Pengetahuan science-mu cukup baik!</p>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div id="level-complete-message" class="congratulations" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ‰ Level Berhasil Diselesaikan! ğŸ‰</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Siap untuk tantangan berikutnya!</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="navigation-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="next-level-btn" class="next-level-btn" style="display: none;">Level Berikutnya</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="retry-btn" class="retry-btn">Ulangi Level</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="home-btn" id="result-home-btn">Kembali ke Menu Utama</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <footer>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Science Master Â© 2025 | dibuat oleh dev_nurdin</p>
Â  Â  Â  Â  </footer>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // ===============================
Â  Â  Â  Â  // DATA PERTANYAAN (30 template unik per kategori)
Â  Â  Â  Â  // ===============================

Â  Â  Â  Â  const massiveQuestionBank = {
Â  Â  Â  Â  Â  Â  physics: [
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Apa satuan SI untuk gaya?", options: ["Newton", "Joule", "Watt", "Pascal"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Energi yang dimiliki benda karena geraknya disebut?", options: ["Energi potensial", "Energi kinetik", "Energi panas", "Energi listrik"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Alat untuk mengukur suhu adalah?", options: ["Barometer", "Termometer", "Hygrometer", "Speedometer"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Bunyi merambat paling cepat melalui?", options: ["Udara", "Cairan", "Padatan", "Vakum"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Hukum Newton pertama tentang?", options: ["Gravitasi", "Inersia", "Aksi-reaksi", "Percepatan"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Warna dengan panjang gelombang terpendek?", options: ["Merah", "Hijau", "Biru", "Ungu"], correct: 3 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Alat ukur tekanan udara?", options: ["Termometer", "Barometer", "Hygrometer", "Anemometer"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Gaya tarik antara benda bermassa?", options: ["Magnet", "Listrik", "Gravitasi", "Gesek"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Energi dalam baterai berupa?", options: ["Kinetik", "Kimia", "Panas", "Mekanik"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Transformator meningkatkan tegangan jika?", options: ["Lilitan sekunder lebih banyak", "Lilitan primer lebih banyak", "Arus besar", "Tegangan kecil"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Rumus energi kinetik?", options: ["Â½mvÂ²", "mgh", "F.d", "P.t"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Hukum kekekalan energi menyatakan?", options: ["Energi dapat diciptakan", "Energi dapat dimusnahkan", "Energi tetap total", "Energi berubah bentuk"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Dalam rangkaian paralel, lampu?", options: ["Padam semua jika satu padam", "Tetap menyala", "Menyala terang", "Berkedip"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Percepatan benda 5kg dengan gaya 20N?", options: ["0.25 m/sÂ²", "4 m/sÂ²", "25 m/sÂ²", "100 m/sÂ²"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Alat ukur arus listrik?", options: ["Voltmeter", "Amperemeter", "Ohmmeter", "Wattmeter"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Satuan daya listrik?", options: ["Volt", "Ampere", "Watt", "Ohm"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Perubahan energi di panel surya?", options: ["Kimia ke Listrik", "Cahaya ke Listrik", "Panas ke Cahaya", "Gerak ke Listrik"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Alat pengubah energi listrik jadi gerak?", options: ["Generator", "Transformator", "Motor listrik", "Baterai"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Kecepatan cahaya di vakum?", options: ["300.000 km/s", "30.000 km/s", "3.000 km/s", "300 km/s"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Titik didih air pada tekanan normal?", options: ["0Â°C", "50Â°C", "100Â°C", "150Â°C"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Konduktor panas yang baik?", options: ["Plastik", "Kayu", "Udara", "Logam"], correct: 3 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Hukum yang mengatur hubungan tekanan dan volume gas?", options: ["Hukum Archimedes", "Hukum Pascal", "Hukum Boyle", "Hukum Snellius"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Contoh gelombang transversal?", options: ["Bunyi", "Gempa", "Cahaya", "Air di kolam"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Energi yang tersimpan dalam pegas tertekan?", options: ["Kinetik", "Potensial Gravitasi", "Potensial Elastis", "Panas"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Alat yang digunakan untuk mengukur massa benda?", options: ["Amperemeter", "Termometer", "Neraca", "Barometer"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Gaya yang melawan gerak benda?", options: ["Gaya tarik", "Gaya magnet", "Gaya gesek", "Gaya sentripetal"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Satuan frekuensi?", options: ["Joule", "Watt", "Ohm", "Hertz"], correct: 3 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Apa yang menyebabkan pelangi?", options: ["Refleksi cahaya", "Difraksi cahaya", "Pembiasan dan pemantulan cahaya", "Interferensi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Zat yang tidak dapat menghantarkan listrik?", options: ["Konduktor", "Semikonduktor", "Isolator", "Elektrolit"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Jarak dari puncak gelombang ke puncak berikutnya?", options: ["Amplitudo", "Periode", "Frekuensi", "Panjang gelombang"], correct: 3 }
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  chemistry: [
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Unsur paling melimpah di atmosfer?", options: ["Oksigen", "Hidrogen", "Nitrogen", "Karbon dioksida"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Perubahan wujud dari padat langsung ke gas disebut?", options: ["Mencair", "Membeku", "Menyublim", "Mengembun"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Berapa nilai pH larutan yang bersifat netral?", options: ["0", "7", "14", "10"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Reaksi kimia yang menyerap panas dari lingkungan disebut?", options: ["Eksotermik", "Endotermik", "Netral", "Otomatis"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Lambang kimia untuk unsur emas adalah?", options: ["Ag", "Fe", "Au", "Cu"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Unsur dengan nomor atom 1 adalah?", options: ["Helium", "Oksigen", "Hidrogen", "Litium"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Larutan dengan pH kurang dari 7 bersifat?", options: ["Basa", "Netral", "Asam", "Garam"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses perkaratan besi pada dasarnya adalah reaksi?", options: ["Oksidasi", "Reduksi", "Netralisasi", "Presipitasi"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Gas yang dihasilkan dari reaksi logam alkali dengan air atau asam?", options: ["Oksigen", "Nitrogen", "Hidrogen", "Karbon dioksida"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Zat yang mempercepat laju reaksi tanpa ikut bereaksi disebut?", options: ["Inhibitor", "Katalis", "Reaktan", "Produk"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Kelompok unsur alkali?", options: ["Na, K, Li", "Fe, Cu, Zn", "Cl, F, Br", "He, Ne, Ar"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Hasil reaksi antara asam dan basa?", options: ["Gas", "Garam dan air", "Logam", "Oksigen"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Lambang kimia natrium?", options: ["Na", "Ni", "Ne", "No"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Pemisahan campuran berdasarkan perbedaan titik didih?", options: ["Filtrasi", "Destilasi", "Kromatografi", "Sublimasi"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Contoh gas mulia?", options: ["Oksigen", "Nitrogen", "Helium", "Klorin"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Bagian terkecil dari suatu unsur yang masih memiliki sifat unsur tersebut?", options: ["Molekul", "Senyawa", "Atom", "Isotop"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Perubahan materi yang menghasilkan zat baru dengan sifat yang berbeda?", options: ["Perubahan fisika", "Perubahan kimia", "Perubahan wujud", "Perubahan alotropi"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Contoh senyawa organik sederhana?", options: ["Gula", "Garam", "Air", "Besi"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Partikel sub-atomik yang bermuatan negatif dalam atom?", options: ["Proton", "Neutron", "Elektron", "Inti atom"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Campuran homogen yang zat terlarut dan pelarutnya terlihat menyatu sempurna?", options: ["Suspensi", "Koloid", "Emulsi", "Larutan"], correct: 3 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Rumus kimia untuk air?", options: ["HOâ‚‚", "Hâ‚‚Oâ‚‚", "Hâ‚‚O", "OH"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Zat yang berfungsi sebagai pelarut universal?", options: ["Minyak", "Alkohol", "Air", "Asam"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Tanda-tanda utama yang menunjukkan terjadinya reaksi kimia?", options: ["Perubahan bentuk", "Perubahan volume", "Perubahan warna/suhu", "Perubahan massa"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses pemisahan komponen minyak mentah berdasarkan titik didih yang berbeda?", options: ["Sublimasi", "Kristalisasi", "Destilasi bertingkat", "Filtrasi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Nama lain dari proses penguapan?", options: ["Kondensasi", "Evaporasi", "Sublimasi", "Mencair"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Zat yang dapat menerima proton (H+) dalam teori asam-basa Bronsted-Lowry?", options: ["Asam kuat", "Basa", "Larutan netral", "Indikator"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Nomor atom suatu unsur menunjukkan jumlah?", options: ["Neutron", "Elektron valensi", "Proton", "Massa atom"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Contoh senyawa yang terbentuk dari ikatan ion?", options: ["Garam dapur (NaCl)", "Air (Hâ‚‚O)", "Metana (CHâ‚„)", "Oksigen (Oâ‚‚)"], correct: 0 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Peristiwa perubahan es menjadi air adalah contoh dari?", options: ["Perubahan kimia", "Perubahan nuklir", "Perubahan fisika", "Reaksi redoks"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Kelompok unsur yang sangat stabil dan tidak reaktif?", options: ["Alkali", "Halogen", "Gas mulia", "Transisi"], correct: 2 }
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  biology: [
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Organel sel yang berfungsi sebagai 'pembangkit tenaga' sel?", options: ["Nukleus", "Mitokondria", "Ribosom", "Kloroplas"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses pembuatan makanan pada tumbuhan hijau disebut?", options: ["Respirasi", "Fotosintesis", "Digesti", "Fermentasi"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Sistem peredaran darah manusia terdiri dari?", options: ["Jantung, paru, pembuluh", "Jantung, darah, pembuluh", "Darah, pembuluh, otak", "Jantung, otak, paru"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Bagian utama tumbuhan yang berfungsi menyerap air dan nutrisi?", options: ["Batang", "Daun", "Akar", "Bunga"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Makhluk hidup yang dapat membuat makanannya sendiri disebut?", options: ["Konsumen", "Produsen", "Dekomposer", "Herbivora"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Pertukaran gas oksigen dan karbon dioksida terjadi di?", options: ["Jantung", "Paru-paru", "Hati", "Ginjal"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Bagian sel yang mengendalikan seluruh aktivitas sel?", options: ["Mitokondria", "Nukleus", "Sitoplasma", "Membran sel"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Hewan yang memakan tumbuhan dan daging disebut?", options: ["Herbivora", "Karnivora", "Omnivora", "Insektivora"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Perubahan bentuk pada hewan dari ulat menjadi kupu-kupu disebut?", options: ["Fotosintesis", "Metamorfosis", "Respirasi", "Evolusi"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Organ yang berfungsi menyaring darah dan membuang limbah nitrogen?", options: ["Jantung", "Paru-paru", "Ginjal", "Hati"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Jaringan pengangkut air pada tumbuhan?", options: ["Epidermis", "Xilem", "Floem", "Kolenkim"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Enzim yang berfungsi mencerna protein?", options: ["Amilase", "Lipase", "Protease", "Sukrase"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Bagian bunga yang menghasilkan serbuk sari?", options: ["Putik", "Benang sari", "Mahkota", "Kelopak"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Penyakit yang disebabkan kekurangan vitamin C?", options: ["Rabun senja", "Skorbut", "Rakitis", "Anemia"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Contoh dekomposer dalam ekosistem?", options: ["Tumbuhan", "Hewan", "Jamur dan bakteri", "Manusia"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Tempat utama fotosintesis terjadi dalam sel tumbuhan?", options: ["Vakuola", "Ribosom", "Kloroplas", "Membran sel"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Penyakit yang disebabkan oleh Human Immunodeficiency Virus (HIV)?", options: ["TBC", "Flu", "AIDS", "Malaria"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses pembentukan urin di ginjal yang pertama kali terjadi?", options: ["Augmentasi", "Reabsorpsi", "Filtrasi", "Sekresi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Di mana materi genetik (DNA) sel disimpan?", options: ["Mitokondria", "Sitoplasma", "Nukleus", "Retikulum Endoplasma"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Tulang yang berfungsi melindungi organ otak?", options: ["Tulang belakang", "Tulang rusuk", "Tengkorak", "Tulang panggul"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Organ pencernaan yang menjadi tempat penyerapan sari makanan terbesar?", options: ["Lambung", "Usus besar", "Usus halus", "Kerongkongan"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Kelompok hewan yang memiliki tulang belakang?", options: ["Invertebrata", "Avertebrata", "Vertebrata", "Mamalia"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Hormon yang berperan dalam mengatur kadar gula darah?", options: ["Adrenalin", "Tiroksin", "Insulin", "Estrogen"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Sistem organ yang berfungsi membuang sisa metabolisme dari tubuh?", options: ["Sistem sirkulasi", "Sistem pernapasan", "Sistem ekskresi", "Sistem reproduksi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses pertukaran oksigen dan karbon dioksida di alveoli paru-paru?", options: ["Osmosis", "Ekskresi", "Difusi", "Konveksi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Unit struktural dan fungsional terkecil dari makhluk hidup?", options: ["Organ", "Jaringan", "Sel", "Sistem organ"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Lapisan pelindung terluar pada batang dan daun tumbuhan?", options: ["Korteks", "Endodermis", "Epidermis", "Floem"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Nama ilmiah (binomial nomenclature) untuk spesies manusia?", options: ["Homo erectus", "Pan troglodytes", "Homo sapiens", "Australopithecus"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Apa fungsi utama stomata (mulut daun)?", options: ["Menyerap air", "Melakukan fotosintesis", "Pertukaran gas", "Menyimpan makanan"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Rantai makanan dalam ekosistem selalu dimulai dari?", options: ["Konsumen tingkat 1", "Produsen", "Dekomposer", "Karnivora"], correct: 1 }
Â  Â  Â  Â  Â  Â  ],

Â  Â  Â  Â  Â  Â  earth: [
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Lapisan bumi yang paling luar dan tempat kita hidup?", options: ["Inti", "Mantel", "Kerak", "Atmosfer"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Planet di tata surya yang terdekat dengan Matahari?", options: ["Venus", "Bumi", "Mars", "Merkurius"], correct: 3 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Peristiwa di mana Bulan berada di antara Bumi dan Matahari?", options: ["Gerhana bulan", "Gerhana matahari", "Fase bulan", "Pasang surut"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Gas utama yang paling berkontribusi terhadap efek rumah kaca?", options: ["Oksigen", "Nitrogen", "Karbon dioksida", "Helium"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Perubahan wujud air dari cair menjadi uap air disebut?", options: ["Kondensasi", "Presipitasi", "Evaporasi", "Infiltrasi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Lapisan di atmosfer yang melindungi bumi dari sinar ultraviolet?", options: ["Troposfer", "Stratosfer", "Mesosfer", "Ozon"], correct: 3 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Planet terbesar dalam tata surya?", options: ["Bumi", "Mars", "Jupiter", "Saturnus"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Jenis batuan yang terbentuk dari pendinginan magma?", options: ["Sedimen", "Metamorf", "Beku", "Kapur"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Apa penyebab utama terjadinya pasang surut air laut?", options: ["Angin", "Rotasi bumi", "Gravitasi bulan", "Suhu air"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Waktu Indonesia Barat (WIB) memiliki selisih berapa jam dari GMT (Greenwich Mean Time)?", options: ["5 jam", "6 jam", "7 jam", "8 jam"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Bencana alam yang disebabkan oleh gempa bumi di dasar laut?", options: ["Angin topan", "Tsunami", "Gunung meletus", "Kebakaran hutan"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses penghancuran batuan oleh faktor air, angin, dan es?", options: ["Erosi", "Sedimentasi", "Pelapukan mekanik", "Pelapukan kimia"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Planet yang sering dijuluki 'Bintang Kejora'?", options: ["Merkurius", "Venus", "Mars", "Jupiter"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Lapisan bumi yang sebagian besar berupa batuan cair (magma)?", options: ["Kerak", "Mantel", "Inti luar", "Inti dalam"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses di mana uap air di atmosfer berubah menjadi awan/titik-titik air?", options: ["Evaporasi", "Kondensasi", "Presipitasi", "Infiltasi"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Satelit alami satu-satunya yang dimiliki oleh Bumi?", options: ["Mars", "Bintang", "Bulan", "Komet"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Apa yang terutama disebabkan oleh pergerakan lempeng tektonik?", options: ["Angin kencang", "Banjir", "Gempa bumi", "Tsunami"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Jenis batuan yang terbentuk dari batuan beku atau sedimen akibat perubahan suhu dan tekanan tinggi?", options: ["Batuan sedimen", "Batuan metamorf", "Batuan beku", "Mineral"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Nama galaksi tempat tata surya kita berada?", options: ["Andromeda", "Triangulum", "Bimasakti", "Sombrero"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Alat yang digunakan oleh ahli meteorologi untuk mengukur kecepatan angin?", options: ["Termometer", "Barometer", "Anemometer", "Hygrometer"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Zona waktu yang digunakan di Indonesia bagian timur?", options: ["WIB", "WITA", "WIT", "GMT+8"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Fenomena naiknya permukaan air laut secara signifikan saat bulan purnama?", options: ["Pasang surut minimum", "Badai laut", "Pasang maksimum", "Kondensasi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Proses perubahan wujud air dari uap menjadi cair yang membentuk awan?", options: ["Evaporasi", "Transpirasi", "Kondensasi", "Infiltrasi"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Batuan yang terbentuk dari pengendapan material yang tererosi?", options: ["Batuan metamorf", "Batuan beku", "Batuan sedimen", "Batuan dasar"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Gas yang paling melimpah di atmosfer Bumi?", options: ["Oksigen", "Karbon dioksida", "Nitrogen", "Argon"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Musim di Bumi disebabkan oleh?", options: ["Jarak Bumi dari Matahari", "Rotasi Bumi", "Kemiringan sumbu Bumi", "Aktivitas Bulan"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Matahari diklasifikasikan sebagai bintang jenis apa?", options: ["Raksasa Merah", "Katai Putih", "Deret utama", "Bintang Neutron"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Daerah di mana satu lempeng tektonik menyelip di bawah lempeng lain, sering menyebabkan palung laut?", options: ["Sesar geser", "Peregangan", "Subduksi", "Pemekaran"], correct: 2 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Nama lain untuk wilayah yang sering mengalami gempa bumi dan gunung berapi di sekitar Samudra Pasifik?", options: ["Sabuk Alpide", "Cincin Api Pasifik", "Zona Subduksi", "Garis Wallace"], correct: 1 },
Â  Â  Â  Â  Â  Â  Â  Â  { question: "Lapisan atmosfer Bumi tempat sebagian besar fenomena cuaca terjadi?", options: ["Stratosfer", "Mesosfer", "Termosfer", "Troposfer"], correct: 3 }
Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  };

Â  Â  Â  Â  // Fungsi utilitas untuk mengacak array
Â  Â  Â  Â  function shuffleArray(array) {
Â  Â  Â  Â  Â  Â  for (let i = array.length - 1; i > 0; i--) {
Â  Â  Â  Â  Â  Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  Â  Â  Â  Â  Â  [array[i], array[j]] = [array[j], array[i]];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return array;
Â  Â  Â  Â  }

Â  Â  Â  Â  // Fungsi untuk menghasilkan pertanyaan unik untuk semua level (memastikan 4000 soal terstruktur)
Â  Â  Â  Â  function generateQuestionsForCategory(category, totalLevels = 100, questionsPerLevel = 10) {
Â  Â  Â  Â  Â  Â  const questions = {};
Â  Â  Â  Â  Â  Â  const templates = massiveQuestionBank[category];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  for (let level = 1; level <= totalLevels; level++) {
Â  Â  Â  Â  Â  Â  Â  Â  questions[level] = [];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < questionsPerLevel; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const templateIndex = (level * questionsPerLevel + i) % templates.length;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const template = templates[templateIndex];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newOptions = shuffleArray([...template.options]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const originalCorrectAnswer = template.options[template.correct];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newCorrectIndex = newOptions.findIndex(opt => opt === originalCorrectAnswer);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  questions[level].push({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  question: template.question,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  options: newOptions,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  correct: newCorrectIndex
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  return questions;
Â  Â  Â  Â  }

Â  Â  Â  Â  // Data kuis lengkap untuk semua level
Â  Â  Â  Â  const quizData = {
Â  Â  Â  Â  Â  Â  physics: generateQuestionsForCategory('physics'),
Â  Â  Â  Â  Â  Â  chemistry: generateQuestionsForCategory('chemistry'),
Â  Â  Â  Â  Â  Â  biology: generateQuestionsForCategory('biology'),
Â  Â  Â  Â  Â  Â  earth: generateQuestionsForCategory('earth')
Â  Â  Â  Â  };

Â  Â  Â  Â  // ===============================
Â  Â  Â  Â  // SISTEM GAME UTAMA
Â  Â  Â  Â  // ===============================

Â  Â  Â  Â  // Status game
Â  Â  Â  Â  const gameState = {
Â  Â  Â  Â  Â  Â  currentCategory: '',
Â  Â  Â  Â  Â  Â  currentLevel: 1,
Â  Â  Â  Â  Â  Â  score: 0,
Â  Â  Â  Â  Â  Â  totalScore: 0,
Â  Â  Â  Â  Â  Â  completedLevels: {
Â  Â  Â  Â  Â  Â  Â  Â  physics: [],
Â  Â  Â  Â  Â  Â  Â  Â  chemistry: [],
Â  Â  Â  Â  Â  Â  Â  Â  biology: [],
Â  Â  Â  Â  Â  Â  Â  Â  earth: []
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  currentQuestions: [],
Â  Â  Â  Â  Â  Â  currentQuestionIndex: 0,
Â  Â  Â  Â  Â  Â  userAnswers: []
Â  Â  Â  Â  };

Â  Â  Â  Â  // Elemen DOM
Â  Â  Â  Â  const mainMenu = document.getElementById('main-menu');
Â  Â  Â  Â  const levelSelectionContainer = document.getElementById('level-selection-container');
Â  Â  Â  Â  const levelSelection = document.getElementById('level-selection');
Â  Â  Â  Â  const levelSelectionTitle = document.getElementById('level-selection-title');
Â  Â  Â  Â  const quizContainer = document.getElementById('quiz-container');
Â  Â  Â  Â  const resultContainer = document.getElementById('result-container');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const physicsBtn = document.getElementById('physics-btn');
Â  Â  Â  Â  const chemistryBtn = document.getElementById('chemistry-btn');
Â  Â  Â  Â  const biologyBtn = document.getElementById('biology-btn');
Â  Â  Â  Â  const earthBtn = document.getElementById('earth-btn');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const totalCompletedCountElement = document.getElementById('total-completed-count');Â 
Â  Â  Â  Â  const currentScoreElement = document.getElementById('current-score');
Â  Â  Â  Â  const currentCategoryElement = document.getElementById('current-category');
Â  Â  Â  Â  const progressBar = document.getElementById('progress-bar');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const quizCategoryElement = document.getElementById('quiz-category');
Â  Â  Â  Â  const quizLevelElement = document.getElementById('quiz-level');
Â  Â  Â  Â  const questionText = document.getElementById('question-text');
Â  Â  Â  Â  const optionsContainer = document.getElementById('options-container');
Â  Â  Â  Â  const currentQuestionElement = document.getElementById('current-question');
Â  Â  Â  Â  const totalQuestionsElement = document.getElementById('total-questions');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const prevBtn = document.getElementById('prev-btn');
Â  Â  Â  Â  const nextBtn = document.getElementById('next-btn');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const resultTitle = document.getElementById('result-title');
Â  Â  Â  Â  const resultSubtitle = document.getElementById('result-subtitle');
Â  Â  Â  Â  const finalScoreElement = document.getElementById('final-score');
Â  Â  Â  Â  const resultMessageElement = document.getElementById('result-message');
Â  Â  Â  Â  const levelCompleteMessage = document.getElementById('level-complete-message');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const retryBtn = document.getElementById('retry-btn');
Â  Â  Â  Â  const nextLevelBtn = document.getElementById('next-level-btn');
Â  Â  Â  Â  const resultHomeBtn = document.getElementById('result-home-btn');
Â  Â  Â  Â  const levelSelectionHome = document.getElementById('level-selection-home');

Â  Â  Â  Â  // AI Explanation Elements
Â  Â  Â  Â  const explanationBox = document.getElementById('explanation-box');
Â  Â  Â  Â  const explanationLoading = document.getElementById('explanation-loading');
Â  Â  Â  Â  const explanationText = document.getElementById('explanation-text');

Â  Â  Â  Â  // Event listeners
Â  Â  Â  Â  physicsBtn.addEventListener('click', () => showLevelSelection('physics'));
Â  Â  Â  Â  chemistryBtn.addEventListener('click', () => showLevelSelection('chemistry'));
Â  Â  Â  Â  biologyBtn.addEventListener('click', () => showLevelSelection('biology'));
Â  Â  Â  Â  earthBtn.addEventListener('click', () => showLevelSelection('earth'));
Â  Â  Â  Â Â 
Â  Â  Â  Â  prevBtn.addEventListener('click', showPreviousQuestion);
Â  Â  Â  Â  nextBtn.addEventListener('click', showNextQuestion);
Â  Â  Â  Â Â 
Â  Â  Â  Â  retryBtn.addEventListener('click', retryLevel);
Â  Â  Â  Â  nextLevelBtn.addEventListener('click', nextLevel);
Â  Â  Â  Â  resultHomeBtn.addEventListener('click', showMainMenu);
Â  Â  Â  Â  levelSelectionHome.addEventListener('click', showMainMenu);

Â  Â  Â  Â  // ===============================
Â  Â  Â  Â  // FUNGSI AI GENERATION
Â  Â  Â  Â  // ===============================

Â  Â  Â  Â  async function generateExplanation(questionText, correctAnswer) {
Â  Â  Â  Â  Â  Â  explanationBox.style.display = 'block';
Â  Â  Â  Â  Â  Â  explanationLoading.style.display = 'block';
Â  Â  Â  Â  Â  Â  explanationText.textContent = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const systemPrompt = "Bertindak sebagai tutor sains SMP yang ramah dan informatif. Berikan penjelasan singkat, maksimal 3 kalimat, mengapa jawaban yang benar ini adalah yang paling tepat, jelaskan konsep dasarnya.";
Â  Â  Â  Â  Â  Â  const userQuery = `Soal: ${questionText}. Jawaban Benar: ${correctAnswer}. Berikan penjelasan edukatif singkat mengapa jawaban ini benar.`;
Â  Â  Â  Â  Â  Â  const apiKey = "";Â 
Â  Â  Â  Â  Â  Â  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

Â  Â  Â  Â  Â  Â  const payload = {
Â  Â  Â  Â  Â  Â  Â  Â  contents: [{ parts: [{ text: userQuery }] }],
Â  Â  Â  Â  Â  Â  Â  Â  systemInstruction: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  parts: [{ text: systemPrompt }]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const maxRetries = 3;
Â  Â  Â  Â  Â  Â  let lastError = null;

Â  Â  Â  Â  Â  Â  for (let attempt = 0; attempt < maxRetries; attempt++) {
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(apiUrl, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(payload)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(`HTTP error! status: ${response.status}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const result = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const text = result.candidates?.[0]?.content?.parts?.[0]?.text;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (text) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  explanationLoading.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  explanationText.textContent = text;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lastError = error;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error(`Attempt ${attempt + 1} failed:`, error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (attempt < maxRetries - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Jika semua percobaan gagal
Â  Â  Â  Â  Â  Â  explanationLoading.style.display = 'none';
Â  Â  Â  Â  Â  Â  explanationText.textContent = "Maaf, gagal memuat penjelasan dari AI. Silakan coba soal berikutnya.";
Â  Â  Â  Â  Â  Â  console.error("Failed to fetch AI explanation after multiple retries.", lastError);
Â  Â  Â  Â  }

Â  Â  Â  Â  // ===============================
Â  Â  Â  Â  // FUNGSI GAMEFLOW
Â  Â  Â  Â  // ===============================

Â  Â  Â  Â  function showLevelSelection(category) {
Â  Â  Â  Â  Â  Â  gameState.currentCategory = category;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  mainMenu.style.display = 'none';
Â  Â  Â  Â  Â  Â  levelSelectionContainer.style.display = 'block';
Â  Â  Â  Â  Â  Â  quizContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  resultContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const categoryNames = { physics: 'Fisika', chemistry: 'Kimia', biology: 'Biologi', earth: 'Ilmu Bumi' };
Â  Â  Â  Â  Â  Â  levelSelectionTitle.textContent = `Pilih Level - ${categoryNames[category]}`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  levelSelection.innerHTML = '';
Â  Â  Â  Â  Â  Â  const maxLevels = 100;
Â  Â  Â  Â  Â  Â  for (let i = 1; i <= maxLevels; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const levelBtn = document.createElement('button');
Â  Â  Â  Â  Â  Â  Â  Â  levelBtn.classList.add('level-btn');
Â  Â  Â  Â  Â  Â  Â  Â  levelBtn.textContent = i;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (gameState.completedLevels[category].includes(i)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  levelBtn.classList.add('completed');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const nextLevelToUnlock = getNextLevelToUnlock(category);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (i > nextLevelToUnlock) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  levelBtn.classList.add('locked');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  levelBtn.title = "Selesaikan level sebelumnya terlebih dahulu";
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (i === nextLevelToUnlock) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  levelBtn.classList.add('current');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  levelBtn.addEventListener('click', () => startLevel(category, i));
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  levelSelection.appendChild(levelBtn);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  updatePlayerInfo();
Â  Â  Â  Â  }

Â  Â  Â  Â  function getNextLevelToUnlock(category) {
Â  Â  Â  Â  Â  Â  const completed = gameState.completedLevels[category];
Â  Â  Â  Â  Â  Â  if (completed.length === 0) return 1;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const maxCompleted = Math.max(...completed);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (maxCompleted >= 100) return 100;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  return maxCompleted + 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  function startLevel(category, level) {
Â  Â  Â  Â  Â  Â  gameState.currentCategory = category;
Â  Â  Â  Â  Â  Â  gameState.currentLevel = level;
Â  Â  Â  Â  Â  Â  gameState.currentQuestionIndex = 0;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  gameState.currentQuestions = quizData[category][level];
Â  Â  Â  Â  Â  Â  gameState.userAnswers = new Array(gameState.currentQuestions.length).fill(undefined);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  levelSelectionContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  quizContainer.style.display = 'block';
Â  Â  Â  Â  Â  Â  resultContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const categoryNames = { physics: 'Fisika', chemistry: 'Kimia', biology: 'Biologi', earth: 'Ilmu Bumi' };
Â  Â  Â  Â  Â  Â  quizCategoryElement.textContent = categoryNames[category];
Â  Â  Â  Â  Â  Â  quizLevelElement.textContent = level;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Sembunyikan penjelasan saat memulai soal baru
Â  Â  Â  Â  Â  Â  explanationBox.style.display = 'none';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  updatePlayerInfo(); // Update info kategori saat level dimulai
Â  Â  Â  Â  Â  Â  showQuestion();
Â  Â  Â  Â  }

Â  Â  Â  Â  function showQuestion() {
Â  Â  Â  Â  Â  Â  const question = gameState.currentQuestions[gameState.currentQuestionIndex];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  currentQuestionElement.textContent = gameState.currentQuestionIndex + 1;
Â  Â  Â  Â  Â  Â  totalQuestionsElement.textContent = gameState.currentQuestions.length;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  questionText.textContent = question.question;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  optionsContainer.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const selectedAnswerIndex = gameState.userAnswers[gameState.currentQuestionIndex];
Â  Â  Â  Â  Â  Â  const isAnswered = selectedAnswerIndex !== undefined;
Â  Â  Â  Â  Â  Â  const correctIndex = question.correct;

Â  Â  Â  Â  Â  Â  question.options.forEach((option, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const optionElement = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  optionElement.classList.add('option');
Â  Â  Â  Â  Â  Â  Â  Â  optionElement.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
Â  Â  Â  Â  Â  Â  Â  Â  optionElement.dataset.index = index;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (isAnswered) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (index === correctIndex) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  optionElement.classList.add('correct');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (index === selectedAnswerIndex) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  optionElement.classList.add('incorrect');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  optionElement.style.pointerEvents = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  optionElement.addEventListener('click', selectOption);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (!isAnswered && index === selectedAnswerIndex) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  optionElement.classList.add('selected');
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  optionsContainer.appendChild(optionElement);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  prevBtn.disabled = gameState.currentQuestionIndex === 0;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (gameState.currentQuestionIndex === gameState.currentQuestions.length - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  nextBtn.textContent = 'Selesai & Lihat Hasil ğŸ†';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  nextBtn.textContent = 'Selanjutnya â¡ï¸';
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Tampilkan kembali penjelasan jika sudah dijawab
Â  Â  Â  Â  Â  Â  if (isAnswered) {
Â  Â  Â  Â  Â  Â  Â  Â  explanationBox.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  const storedExplanation = question.explanation || "Memuat penjelasan AI...";
Â  Â  Â  Â  Â  Â  Â  Â  explanationText.textContent = storedExplanation;
Â  Â  Â  Â  Â  Â  Â  Â  explanationLoading.style.display = storedExplanation === "Memuat penjelasan AI..." ? 'block' : 'none';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  explanationBox.style.display = 'none';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function selectOption(event) {
Â  Â  Â  Â  Â  Â  const selectedOption = event.currentTarget;
Â  Â  Â  Â  Â  Â  const selectedIndex = parseInt(selectedOption.dataset.index);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  gameState.userAnswers[gameState.currentQuestionIndex] = selectedIndex;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const options = optionsContainer.children;
Â  Â  Â  Â  Â  Â  const question = gameState.currentQuestions[gameState.currentQuestionIndex];
Â  Â  Â  Â  Â  Â  const correctIndex = question.correct;
Â  Â  Â  Â  Â  Â  const correctAnswerText = question.options[correctIndex];

Â  Â  Â  Â  Â  Â  // Tampilkan feedback visual
Â  Â  Â  Â  Â  Â  for (let i = 0; i < options.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  options[i].classList.remove('selected');
Â  Â  Â  Â  Â  Â  Â  Â  options[i].style.pointerEvents = 'none';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (i === correctIndex) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  options[i].classList.add('correct');
Â  Â  Â  Â  Â  Â  Â  Â  } else if (i === selectedIndex) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  options[i].classList.add('incorrect');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // GENERATE EXPLANATION DARI AI
Â  Â  Â  Â  Â  Â  explanationBox.style.display = 'block';
Â  Â  Â  Â  Â  Â  explanationLoading.style.display = 'block';
Â  Â  Â  Â  Â  Â  explanationText.textContent = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  await generateExplanation(question.question, correctAnswerText);

Â  Â  Â  Â  Â  Â  gameState.currentQuestions[gameState.currentQuestionIndex].explanation = explanationText.textContent;
Â  Â  Â  Â  }

Â  Â  Â  Â  function showPreviousQuestion() {
Â  Â  Â  Â  Â  Â  if (gameState.currentQuestionIndex > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  gameState.currentQuestionIndex--;
Â  Â  Â  Â  Â  Â  Â  Â  showQuestion();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function showNextQuestion() {
Â  Â  Â  Â  Â  Â  if (gameState.userAnswers[gameState.currentQuestionIndex] === undefined) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('âš ï¸ Silakan pilih jawaban terlebih dahulu!');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  if (gameState.currentQuestionIndex === gameState.currentQuestions.length - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  showResult();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  gameState.currentQuestionIndex++;
Â  Â  Â  Â  Â  Â  showQuestion();
Â  Â  Â  Â  }

Â  Â  Â  Â  function showResult() {
Â  Â  Â  Â  Â  Â  quizContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  resultContainer.style.display = 'block';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let correctAnswers = 0;
Â  Â  Â  Â  Â  Â  for (let i = 0; i < gameState.currentQuestions.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  if (gameState.userAnswers[i] === gameState.currentQuestions[i].correct) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  correctAnswers++;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const percentage = Math.round((correctAnswers / gameState.currentQuestions.length) * 100);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  finalScoreElement.textContent = `${percentage}%`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let message = '';
Â  Â  Â  Â  Â  Â  if (percentage >= 80) {
Â  Â  Â  Â  Â  Â  Â  Â  message = 'Luar biasa! Kamu berhasil menguasai materi level ini.';
Â  Â  Â  Â  Â  Â  Â  Â  resultTitle.textContent = 'Selamat!';
Â  Â  Â  Â  Â  Â  } else if (percentage >= 60) {
Â  Â  Â  Â  Â  Â  Â  Â  message = 'Bagus! Lanjutkan, kamu hampir menguasai materi ini.';
Â  Â  Â  Â  Â  Â  Â  Â  resultTitle.textContent = 'Hampir Sempurna!';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  message = 'Jangan menyerah! Anggap skor ini sebagai catatan untuk ditingkatkan di level berikutnya.';
Â  Â  Â  Â  Â  Â  Â  Â  resultTitle.textContent = 'Lanjutkan!';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const levelCompletedSuccessfully = !gameState.completedLevels[gameState.currentCategory].includes(gameState.currentLevel);

Â  Â  Â  Â  Â  Â  if (levelCompletedSuccessfully) {
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels[gameState.currentCategory].push(gameState.currentLevel);
Â  Â  Â  Â  Â  Â  Â  Â  gameState.totalScore += percentage;
Â  Â  Â  Â  Â  Â  Â  Â  updateProgress();
Â  Â  Â  Â  Â  Â  Â  Â  updatePlayerInfo();
Â  Â  Â  Â  Â  Â  Â  Â  saveProgress();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  resultSubtitle.textContent = `Kamu telah menyelesaikan Level ${gameState.currentLevel} Kategori ${getCurrentCategoryName()}`;
Â  Â  Â  Â  Â  Â  resultMessageElement.textContent = message;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const isLastLevel = gameState.currentLevel === 100;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (!isLastLevel) {
Â  Â  Â  Â  Â  Â  Â  Â  nextLevelBtn.style.display = 'inline-block';
Â  Â  Â  Â  Â  Â  Â  Â  retryBtn.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  nextLevelBtn.textContent = `Level ${gameState.currentLevel + 1} â¡ï¸`;
Â  Â  Â  Â  Â  Â  Â  Â  levelCompleteMessage.style.display = 'block';

Â  Â  Â  Â  Â  Â  Â  Â  levelCompleteMessage.innerHTML = levelCompletedSuccessfully ?Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `<h3>âœ… Level ${gameState.currentLevel} Selesai! âœ…</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Skor kamu ${percentage}%. Lanjut ke Level ${gameState.currentLevel + 1}!</p>`
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  :Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `<h3>Level ${gameState.currentLevel} Selesai Dikerjakan.</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Skor kamu ${percentage}%. Lanjut ke Level ${gameState.currentLevel + 1}!</p>`;

Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  nextLevelBtn.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  retryBtn.style.display = 'inline-block';
Â  Â  Â  Â  Â  Â  Â  Â  retryBtn.textContent = 'Ulangi Level 100';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  levelCompleteMessage.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  levelCompleteMessage.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>ğŸ‰ SELAMAT! Kamu MASTER SCIENCE! ğŸ‰</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Kamu telah menyelesaikan semua 100 level ${getCurrentCategoryName()}!</p>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function nextLevel() {
Â  Â  Â  Â  Â  Â  const nextLvl = gameState.currentLevel + 1;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (nextLvl <= 100) {
Â  Â  Â  Â  Â  Â  Â  Â  startLevel(gameState.currentCategory, nextLvl);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Selamat! Kamu sudah menyelesaikan semua level di kategori ini!");
Â  Â  Â  Â  Â  Â  Â  Â  showMainMenu();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function retryLevel() {
Â  Â  Â  Â  Â  Â  startLevel(gameState.currentCategory, gameState.currentLevel);
Â  Â  Â  Â  }

Â  Â  Â  Â  function showMainMenu() {
Â  Â  Â  Â  Â  Â  mainMenu.style.display = 'block';
Â  Â  Â  Â  Â  Â  levelSelectionContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  quizContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  resultContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  updatePlayerInfo();
Â  Â  Â  Â  }

Â  Â  Â  Â  // FUNGSI PERBAIKAN: Update Player Info
Â  Â  Â  Â  function updatePlayerInfo() {
Â  Â  Â  Â  Â  Â  const totalCompleted =Â 
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.physics.length +
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.chemistry.length +
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.biology.length +
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.earth.length;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const totalLevels = 400;

Â  Â  Â  Â  Â  Â  const overallProgress = Math.min(100, Math.round((totalCompleted / totalLevels) * 100));

Â  Â  Â  Â  Â  Â  // Progress Selesai (0-100)
Â  Â  Â  Â  Â  Â  totalCompletedCountElement.textContent = `${overallProgress} / 100`;

Â  Â  Â  Â  Â  Â  // Progres Kategori (Real-time)
Â  Â  Â  Â  Â  Â  const currentCategoryName = getCurrentCategoryName();
Â  Â  Â  Â  Â  Â  const currentLevel = gameState.currentLevel;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let levelIndicator;
Â  Â  Â  Â  Â  Â  if (quizContainer.style.display === 'block') {
Â  Â  Â  Â  Â  Â  Â  Â  levelIndicator = `Lvl ${currentLevel}`;
Â  Â  Â  Â  Â  Â  } else if (gameState.currentCategory) {
Â  Â  Â  Â  Â  Â  Â  Â  levelIndicator = `Lvl ${getNextLevelToUnlock(gameState.currentCategory)}`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  levelIndicator = 'Lvl -';
Â  Â  Â  Â  Â  Â  }


Â  Â  Â  Â  Â  Â  currentCategoryElement.textContent = `${currentCategoryName} | ${levelIndicator}`;

Â  Â  Â  Â  Â  Â  currentScoreElement.textContent = gameState.totalScore;
Â  Â  Â  Â  }

Â  Â  Â  Â  function getCurrentCategoryName() {
Â  Â  Â  Â  Â  Â  const categoryNames = {
Â  Â  Â  Â  Â  Â  Â  Â  physics: 'Fisika',
Â  Â  Â  Â  Â  Â  Â  Â  chemistry: 'Kimia',
Â  Â  Â  Â  Â  Â  Â  Â  biology: 'Biologi',
Â  Â  Â  Â  Â  Â  Â  Â  earth: 'Ilmu Bumi'
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  return gameState.currentCategory ? categoryNames[gameState.currentCategory] : 'Pilih Kategori';
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateProgress() {
Â  Â  Â  Â  Â  Â  const totalCompleted =Â 
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.physics.length +
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.chemistry.length +
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.biology.length +
Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels.earth.length;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const totalLevels = 400;
Â  Â  Â  Â  Â  Â  const progress = (totalCompleted / totalLevels) * 100;Â 
Â  Â  Â  Â  Â  Â  progressBar.style.width = `${progress}%`;
Â  Â  Â  Â  Â  Â  progressBar.parentElement.title = `Progress Total (${totalCompleted}/${totalLevels} Level Selesai)`;
Â  Â  Â  Â  }

Â  Â  Â  Â  function saveProgress() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('scienceMasterProgress', JSON.stringify({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  completedLevels: gameState.completedLevels,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalScore: gameState.totalScore
Â  Â  Â  Â  Â  Â  Â  Â  }));
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Gagal menyimpan progress:", error);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function loadProgress() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const savedProgress = localStorage.getItem('scienceMasterProgress');
Â  Â  Â  Â  Â  Â  Â  Â  if (savedProgress) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const progress = JSON.parse(savedProgress);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameState.completedLevels = progress.completedLevels;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameState.totalScore = progress.totalScore;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Gagal memuat progress:", error);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Inisialisasi game
Â  Â  Â  Â  loadProgress();Â 
Â  Â  Â  Â  updatePlayerInfo();
Â  Â  Â  Â  updateProgress();
Â  Â  </script>
</body>
</html>
